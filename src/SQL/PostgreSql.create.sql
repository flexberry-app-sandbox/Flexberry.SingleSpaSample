




CREATE TABLE PersonMetaData (
 primaryKey UUID NOT NULL,
 Url TEXT NULL,
 DateTime TIMESTAMP(3) NULL,
 DataType VARCHAR(13) NULL,
 Author UUID NULL,
 Person UUID NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE PersonAccount (
 primaryKey UUID NOT NULL,
 AccountId TEXT NULL,
 SocialNetwork UUID NOT NULL,
 Person UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE SocialNetwork (
 primaryKey UUID NOT NULL,
 Name TEXT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Person (
 primaryKey UUID NOT NULL,
 EsiaId TEXT NULL,
 Name TEXT NULL,
 MiddleName TEXT NULL,
 Surname TEXT NULL,
 Birthday TIMESTAMP(3) NULL,
 Sex VARCHAR(7) NULL,
 Reputation INT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE ChatBotMessage (
 primaryKey UUID NOT NULL,
 DateTime TIMESTAMP(3) NULL,
 Text TEXT NULL,
 ChatMessageType VARCHAR(6) NULL,
 Person UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE RequestPersonData (
 primaryKey UUID NOT NULL,
 Body TEXT NULL,
 Result TEXT NULL,
 Person UUID NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMNETLOCKDATA (
 LockKey VARCHAR(300) NOT NULL,
 UserName VARCHAR(300) NOT NULL,
 LockDate TIMESTAMP(3) NULL,
 PRIMARY KEY (LockKey));


CREATE TABLE STORMSETTINGS (
 primaryKey UUID NOT NULL,
 Module VARCHAR(1000) NULL,
 Name VARCHAR(255) NULL,
 Value TEXT NULL,
 "User" VARCHAR(255) NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMAdvLimit (
 primaryKey UUID NOT NULL,
 "User" VARCHAR(255) NULL,
 Published BOOLEAN NULL,
 Module VARCHAR(255) NULL,
 Name VARCHAR(255) NULL,
 Value TEXT NULL,
 HotKeyData INT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMFILTERSETTING (
 primaryKey UUID NOT NULL,
 Name VARCHAR(255) NOT NULL,
 DataObjectView VARCHAR(255) NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMWEBSEARCH (
 primaryKey UUID NOT NULL,
 Name VARCHAR(255) NOT NULL,
 "Order" INT NOT NULL,
 PresentView VARCHAR(255) NOT NULL,
 DetailedView VARCHAR(255) NOT NULL,
 FilterSetting_m0 UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMFILTERDETAIL (
 primaryKey UUID NOT NULL,
 Caption VARCHAR(255) NOT NULL,
 DataObjectView VARCHAR(255) NOT NULL,
 ConnectMasterProp VARCHAR(255) NOT NULL,
 OwnerConnectProp VARCHAR(255) NULL,
 FilterSetting_m0 UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMFILTERLOOKUP (
 primaryKey UUID NOT NULL,
 DataObjectType VARCHAR(255) NOT NULL,
 Container VARCHAR(255) NULL,
 ContainerTag VARCHAR(255) NULL,
 FieldsToView VARCHAR(255) NULL,
 FilterSetting_m0 UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE UserSetting (
 primaryKey UUID NOT NULL,
 AppName VARCHAR(256) NULL,
 UserName VARCHAR(512) NULL,
 UserGuid UUID NULL,
 ModuleName VARCHAR(1024) NULL,
 ModuleGuid UUID NULL,
 SettName VARCHAR(256) NULL,
 SettGuid UUID NULL,
 SettLastAccessTime TIMESTAMP(3) NULL,
 StrVal VARCHAR(256) NULL,
 TxtVal TEXT NULL,
 IntVal INT NULL,
 BoolVal BOOLEAN NULL,
 GuidVal UUID NULL,
 DecimalVal DECIMAL(20,10) NULL,
 DateTimeVal TIMESTAMP(3) NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE ApplicationLog (
 primaryKey UUID NOT NULL,
 Category VARCHAR(64) NULL,
 EventId INT NULL,
 Priority INT NULL,
 Severity VARCHAR(32) NULL,
 Title VARCHAR(256) NULL,
 Timestamp TIMESTAMP(3) NULL,
 MachineName VARCHAR(32) NULL,
 AppDomainName VARCHAR(512) NULL,
 ProcessId VARCHAR(256) NULL,
 ProcessName VARCHAR(512) NULL,
 ThreadName VARCHAR(512) NULL,
 Win32ThreadId VARCHAR(128) NULL,
 Message VARCHAR(2500) NULL,
 FormattedMessage TEXT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMAuObjType (
 primaryKey UUID NOT NULL,
 Name VARCHAR(255) NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMAuEntity (
 primaryKey UUID NOT NULL,
 ObjectPrimaryKey VARCHAR(38) NOT NULL,
 OperationTime TIMESTAMP(3) NOT NULL,
 OperationType VARCHAR(100) NOT NULL,
 ExecutionResult VARCHAR(12) NOT NULL,
 Source VARCHAR(255) NOT NULL,
 SerializedField TEXT NULL,
 User_m0 UUID NOT NULL,
 ObjectType_m0 UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE STORMAuField (
 primaryKey UUID NOT NULL,
 Field VARCHAR(100) NOT NULL,
 OldValue TEXT NULL,
 NewValue TEXT NULL,
 MainChange_m0 UUID NULL,
 AuditEntity_m0 UUID NOT NULL,
 PRIMARY KEY (primaryKey));



 ALTER TABLE PersonMetaData ADD CONSTRAINT FK4489cb09e454796b415b0e24e5f7fa61362ef6f2 FOREIGN KEY (Author) REFERENCES Person; 
CREATE INDEX Index4489cb09e454796b415b0e24e5f7fa61362ef6f2 on PersonMetaData (Author); 

 ALTER TABLE PersonMetaData ADD CONSTRAINT FK5ec85acd10b426bd5f75636b48484ac8ad851fc4 FOREIGN KEY (Person) REFERENCES Person; 
CREATE INDEX Index5ec85acd10b426bd5f75636b48484ac8ad851fc4 on PersonMetaData (Person); 

 ALTER TABLE PersonAccount ADD CONSTRAINT FK087f9c8d7a1da30af0ee44c6ab85a0b760fde671 FOREIGN KEY (SocialNetwork) REFERENCES SocialNetwork; 
CREATE INDEX Index087f9c8d7a1da30af0ee44c6ab85a0b760fde671 on PersonAccount (SocialNetwork); 

 ALTER TABLE PersonAccount ADD CONSTRAINT FKcad90ded6eba6d0f791e9fc374177faa96c8c0cd FOREIGN KEY (Person) REFERENCES Person; 
CREATE INDEX Indexcad90ded6eba6d0f791e9fc374177faa96c8c0cd on PersonAccount (Person); 

 ALTER TABLE ChatBotMessage ADD CONSTRAINT FKf9345de2af9f151404451fc37e159860eb37f393 FOREIGN KEY (Person) REFERENCES Person; 
CREATE INDEX Indexf9345de2af9f151404451fc37e159860eb37f393 on ChatBotMessage (Person); 

 ALTER TABLE RequestPersonData ADD CONSTRAINT FK0bccb5e3d3393e6ab1d7d814f2dc85e3814ab780 FOREIGN KEY (Person) REFERENCES Person; 
CREATE INDEX Index0bccb5e3d3393e6ab1d7d814f2dc85e3814ab780 on RequestPersonData (Person); 

 ALTER TABLE STORMWEBSEARCH ADD CONSTRAINT FKc4378e39870eb056aec84088683297a01d2a6200 FOREIGN KEY (FilterSetting_m0) REFERENCES STORMFILTERSETTING; 

 ALTER TABLE STORMFILTERDETAIL ADD CONSTRAINT FK921d16269835017e2a0d0e29ad6fb175454a70d0 FOREIGN KEY (FilterSetting_m0) REFERENCES STORMFILTERSETTING; 

 ALTER TABLE STORMFILTERLOOKUP ADD CONSTRAINT FKce38ef0db3f01a53acaa49fed8853fb941ad47ba FOREIGN KEY (FilterSetting_m0) REFERENCES STORMFILTERSETTING; 
CREATE INDEX Indexaa1a3fec50499d204c389473163d0d8f55d4aed9 on STORMAuEntity (ObjectPrimaryKey); 
CREATE INDEX Indexa06334f170abdcbe9ebbf9a1c97a105e31caac8d on STORMAuEntity (upper(ObjectPrimaryKey)); 
CREATE INDEX Index969964c4b120bd7eebed319d77e182a5adf20816 on STORMAuEntity (OperationTime); 
CREATE INDEX Index44feded66c1cee358e0db313bcaa06e5f8d8e549 on STORMAuEntity (User_m0); 

 ALTER TABLE STORMAuEntity ADD CONSTRAINT FKb5725f55e665c6b660aff02c558b5ba413523eaa FOREIGN KEY (ObjectType_m0) REFERENCES STORMAuObjType; 
CREATE INDEX Indexb5725f55e665c6b660aff02c558b5ba413523eaa on STORMAuEntity (ObjectType_m0); 

 ALTER TABLE STORMAuField ADD CONSTRAINT FKf2cc121c707b1bf4290f2bb625d1d112b4919288 FOREIGN KEY (MainChange_m0) REFERENCES STORMAuField; 

 ALTER TABLE STORMAuField ADD CONSTRAINT FK680dbb7e20a2404a7439d4de2d06d669f165bafe FOREIGN KEY (AuditEntity_m0) REFERENCES STORMAuEntity; 
CREATE INDEX Index680dbb7e20a2404a7439d4de2d06d669f165bafe on STORMAuField (AuditEntity_m0); 

